#!/usr/bin/env bash
set -euo pipefail

if [[ $# -lt 1 ]]; then
  echo "Usage: $0 <version>"
  exit 1
fi

VERSION="$1"
INSTALL_DIR="${INSTALL_PATH:-"$HOME/.local/share/mise/installs/hello/$VERSION"}"

echo "Installing hello version $VERSION to $INSTALL_DIR"

mkdir -p "$INSTALL_DIR/bin"
cat <<EOF > "$INSTALL_DIR/bin/hello"
#!/usr/bin/env bash
echo "Hello from version $VERSION"
EOF
chmod +x "$INSTALL_DIR/bin/hello"

